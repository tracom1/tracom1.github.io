<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom" xml:lang="en">
<title type="text">TechLady Blog</title>
<generator uri="https://github.com/jekyll/jekyll">Jekyll</generator>
<link rel="self" type="application/atom+xml" href="http://localhost:4000/feed.xml" />
<link rel="alternate" type="text/html" href="http://localhost:4000" />
<updated>2017-02-02T23:01:55-07:00</updated>
<id>http://localhost:4000/</id>
<author>
  <name>Tracy Roesler</name>
  <uri>http://localhost:4000/</uri>
  <email>tracy@techlady.ninja</email>
</author>


<entry>
  <title type="html"><![CDATA[ps, I love you]]></title>
  <link rel="alternate" type="text/html" href="http://localhost:4000/blog/ps-I-love-you/" />
  <id>http://localhost:4000/blog/ps-I-love-you</id>
  <published>2017-01-27T07:30:00-07:00</published>
  <updated>2017-01-27T07:30:00-07:00</updated>
  <author>
    <name>Tracy Roesler</name>
    <uri>http://localhost:4000</uri>
    <email>tracy@techlady.ninja</email>
  </author>
  <content type="html">
    &lt;iframe src=&quot;//giphy.com/embed/vrKNvQCPLdWms&quot; width=&quot;480&quot; height=&quot;122&quot; frameborder=&quot;0&quot; class=&quot;giphy-embed&quot; allowfullscreen=&quot;&quot;&gt;&lt;/iframe&gt;
&lt;p&gt;&lt;a href=&quot;http://giphy.com/gifs/ps-vrKNvQCPLdWms&quot;&gt;via GIPHY&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;I’m not really a fan of the &lt;font color=&quot;cyan&quot;&gt;&lt;i&gt;top&lt;/i&gt;&lt;/font&gt; command.&lt;/p&gt;

&lt;p&gt;Now, before you start typing something up decrying my stance, let me say that it’s a great command and provides a lot of useful knowledge.  It gives you access to information about your computer system quickly and informatively (e.g., memory usage, cpu usage, running processes)&lt;/p&gt;

&lt;p&gt;However, it’s just too busy for me.  There’s so much going on!  And things changes so frequently; I mean predominantly because &lt;font color=&quot;cyan&quot;&gt;&lt;i&gt;top&lt;/i&gt;&lt;/font&gt; provides a dynamic real-time view of your system, but still!  Again, I know can change the refresh rate by just going &lt;font color=&quot;cyan&quot;&gt;&lt;i&gt;top -d 30&lt;/i&gt;&lt;/font&gt;, but that does not decrease the amount of characters on the screen.  It is true, &lt;font color=&quot;cyan&quot;&gt;&lt;i&gt;top&lt;/i&gt;&lt;/font&gt; can do many, many things.&lt;/p&gt;

&lt;p&gt;But I still prefer &lt;font color=&quot;cyan&quot;&gt;&lt;i&gt;ps&lt;/i&gt;&lt;/font&gt;, because it’s awesome!  Let’s discuss.&lt;/p&gt;

&lt;h2&gt;THE BASICS&lt;/h2&gt;

&lt;p&gt;Some people are familiar with the “basics” of &lt;font color=&quot;cyan&quot;&gt;&lt;i&gt;ps&lt;/i&gt;&lt;/font&gt;.  The command can be used to provide a snapshot view of your computer system.  The commands most commonly used are &lt;font color=&quot;cyan&quot;&gt;&lt;i&gt;ps -elf&lt;/i&gt;&lt;/font&gt; or &lt;font color=&quot;cyan&quot;&gt;&lt;i&gt;ps aux&lt;/i&gt;&lt;/font&gt;, which tell you what processes your system is currently running.&lt;/p&gt;

&lt;p&gt;If you need a refresher on what all the abbreviations and options mean, which I don’t have the space to cover in this post, please refer to the &lt;font color=&quot;cyan&quot;&gt;&lt;i&gt;ps&lt;/i&gt;&lt;/font&gt; &lt;a href=&quot;https://linux.die.net/man/1/ps&quot;&gt;man page&lt;/a&gt; or simply type &lt;font color=&quot;cyan&quot;&gt;&lt;i&gt;man ps&lt;/i&gt;&lt;/font&gt; on a Linux based machine.&lt;/p&gt;

&lt;p&gt;I personally like to throw in the f in aux because it shows tree inheritance of a process, and because then I can make my command “fake”:&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;gp&quot;&gt;-sh-4.2$ &lt;/span&gt;ps faux
USER       PID %CPU %MEM    VSZ   RSS TTY      STAT START   TIME COMMAND
root         1  0.0  0.0 125220  3712 ?        Ss   Jan08   1:01 /usr/lib/systemd/systemd --switche
root       341  0.0  0.3  46164 15336 ?        Ss   Jan08   0:14 /usr/lib/systemd/systemd-journald
root       366  0.0  0.0  43524  1836 ?        Ss   Jan08   0:00 /usr/lib/systemd/systemd-udevd
root       378  0.0  0.0  21372   672 ?        Ss   Jan08   0:00 /usr/sbin/rpc.idmapd
root     25320  0.0  0.1 169568  5104 ?        Ss   18:55   0:00  &lt;span class=&quot;se&quot;&gt;\_&lt;/span&gt; sshd: tracy &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;priv]
tracy    25328  0.0  0.0 169568  2248 ?        S    18:55   0:00      &lt;span class=&quot;se&quot;&gt;\_&lt;/span&gt; sshd: tracy@pts/0
tracy    25329  0.0  0.0 128232  2552 pts/0    Ss   18:55   0:00          &lt;span class=&quot;se&quot;&gt;\_&lt;/span&gt; -sh
tracy    25385  0.0  0.0 161488  1924 pts/0    R+   18:58   0:00              &lt;span class=&quot;se&quot;&gt;\_&lt;/span&gt; ps faux
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;p&gt;Generally I use something like &lt;font color=&quot;cyan&quot;&gt;&lt;i&gt;ps -elf | grep java&lt;/i&gt;&lt;/font&gt; to narrow down a process I’m looking for (or &lt;font color=&quot;cyan&quot;&gt;&lt;i&gt;ps -elf | grep [j]ava&lt;/i&gt;&lt;/font&gt; to eliminate the grep from your results).  The grep will take all the processes currently running on a system and then only search for ones that match the subsequent string (or regex).&lt;/p&gt;

&lt;p&gt;For example:&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;root@[host] ~]# ps -elf | grep java
0 S 1000      3152     1  0  85   0 - 452154 futex Jan08 ?        00:04:45 /opt/jre8/bin/java
0 R root     15641 15223  0  78   0 - 15300 -      19:00 pts/1    00:00:00 grep --color&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;auto java
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;These few commands cover roughly 90% of a person’s usage.  But(!) we have some pretty strange situations that have called for some fancy finagling of this fabulous fiat.  A good reference for some more basic ps commanding can be found &lt;a href=&quot;http://www.binarytides.com/linux-ps-command/&quot;&gt;here!&lt;/a&gt;&lt;/p&gt;

&lt;h2&gt;TIP AND TRICK #1 - IT'S GOT GOOD THREADS&lt;/h2&gt;

&lt;p&gt;As a system administrator, I generally set limits on how many threads any particular user can have (in /etc/security/limits.conf).  Not just because I want to prevent devs from having access to the resources they need &lt;font color=&quot;red&quot;&gt;(insert evil laugh here)&lt;/font&gt;, but also because it’s good practice to prevent applications from cobbling your computer system through hogging more and more of your limited resources.  If the value is not set, it will default to 1024.&lt;/p&gt;

&lt;p&gt;Once, we ran into a situation where a bunch of our java apps were getting the error “Unable to create a new Native thread” on a server that runs multiple applications.&lt;/p&gt;

&lt;p&gt;To determine if our errors were being generated as a result of our limits.conf,  I leveraged the -u «username» command along with some other ps &lt;em&gt;magic&lt;/em&gt;.&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;o&quot;&gt;[(&lt;/span&gt;root@[host[ ~]# ps -Led -o user | sort | uniq -c | sort -n
      1 ntp
      2 postfix
      2 tracy
     82 wwwrun
    142 root
   1306 runner_agent
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;This command finds all process results under a particular user,  sorts it so they can be properly “consolidated”, groups them by unique user, and finally re-sorts.  The -o command here specifies a particular user format, where we can then specify which columns we want to display, and the -L command designates that this command is interested in threads.&lt;/p&gt;

&lt;font color=&quot;cyan&quot;&gt;&lt;i&gt;NOTE: If you don’t do the sort before the uniq -c, it won’t aggregate correctly and you’ll get extra lines.  Then you have to do MATH, which while good for the brain, is annoying.&lt;/i&gt;&lt;/font&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;root@[host] ~]# ps -Led -o user | uniq -c | sort -n
      1 ntp
      1 postfix
      1 postfix
      1 root
      3 root
      1 USER
      1 wwwrun
      2 root
      2 tracy
     15 root
     11 root
     49 root
     60 root
     81 wwwrun
    157 runner_agent
    209 runner_agent
    940 runner_agent
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;Now we know runner_agent has too many threads, so let’s figure out which app running under that is the most problematic -&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;root@[host] ~]# ps -o nlwp,pid,lwp,args -u runner_agent | sort -n
NLWP   PID   LWP COMMAND
  33  3313  3313 /opt/jre/bin/java -Djava.util.logging.config.file&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;/opt/AppA…
  53 17419 17419 /opt/jre8/bin/java -Djava.util.logging.config.file&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;/opt/AppB….
 169  4892  4892 /opt/jre8/bin/java -Djava.util.logging.config.file&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;/opt/AppC…
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;Again, we are specifying which fields we want displayed: number of threads (nlwp), the pid, the thread id (lwp), and the arguments for the process.  That simple command well help you determine and quash the rebellion of your rogue app.  In my example above, AppC has 169 threads open under the runner_agent user.&lt;/p&gt;

&lt;h2&gt;TIP AND TRICK #2 - I REMEMBER WHEN...&lt;/h2&gt;

&lt;p&gt;I enjoy using ps for memory determination, because it’s cool.  While ps aux will show memory usage per app by default (%CPU and %MEM), regular ps sometimes needs some coaxing.&lt;/p&gt;

&lt;p&gt;We often have hungry services that steal memory from others on the server and need to determine the offending app.&lt;/p&gt;
&lt;center&gt;&lt;iframe src=&quot;//lyyn.fr.nf/photoshow/?t=Thb&amp;amp;f=Troll+languages%2Fau8hs2.jpg&quot; width=&quot;520&quot; height=&quot;300&quot; frameborder=&quot;0&quot; allowfullscreen=&quot;&quot;&gt;&lt;/iframe&gt;&lt;p&gt;&lt;a href=&quot;http://lyyn.fr.nf/photoshow/?t=Thb&amp;amp;f=Troll+languages%2Fau8hs2.jpg&quot;&gt;via http://lyyn.fr.nf/photoshow/?t=Thb&amp;amp;f=Troll+languages%2Fau8hs2.jpg
&lt;/a&gt;&lt;/p&gt;&lt;/center&gt;

&lt;p&gt;If you want to figure out what service refuses to share and play nice, you can do this:&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;root@[host] ~]# ps -eo pmem,pcpu,vsize,pid,cmd | sort -k 1 -nr | head -3
12.7  1.0 4228104 4892 /opt/jre8/bin/java -Djava.util.logging.config.file&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;/opt/AppA…
12.6  0.3 2892564 4034 /opt/jre/bin/java -Djava.util.logging.config.file&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;/opt/AppB
 9.9  0.0 3885252 4338 /opt/jre8/bin/java -Djava.util.logging.config.file&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;/opt/AppC
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;It even sorts it conveniently!  If you want to see all your applications, you can remove the &lt;font color=&quot;cyan&quot;&gt;&lt;i&gt;| head -3&lt;/i&gt;&lt;/font&gt;, but generally you only need the first few to determine the problematic application.&lt;/p&gt;

&lt;h2&gt;TIP &amp;amp; TRICK #3 - I CAN SEE THE TREES THROUGH THE FOREST&lt;/h2&gt;

&lt;p&gt;One more easy ps win.  I use pstree a lot for viewing child processes that spawn out.  For that, I use the following command:&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;gp&quot;&gt;-sh-4.2$ &lt;/span&gt;pstree -alp | grep ntp
  |-ntpd,479 -u ntp:ntp -x -u ntp:ntp -p /var/run/ntpd.pid -g
  |               |-grep,21705 --color&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;auto ntp
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;Which shows you the hierarchy of applications.  It’s similar to using ps faux, but with a slightly better display.  I often wrap this in a &lt;font color=&quot;cyan&quot;&gt;&lt;i&gt;watch&lt;/i&gt;&lt;/font&gt; command when viewing the status of something like a cron, or a deploy service that I’ve orchestrated.&lt;/p&gt;

&lt;h2&gt;HUZZAH!  YOU'RE A PS GURU NOW!&lt;/h2&gt;

&lt;p&gt;And those are just a few of the amazing things you can do with &lt;font color=&quot;cyan&quot;&gt;&lt;i&gt;ps&lt;/i&gt;&lt;/font&gt;!&lt;/p&gt;

&lt;p&gt;There’s some great references online - here are a few if you feel like reading some more.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://linoxide.com/how-tos/linux-ps-command-examples/&quot;&gt;Linux ps Command Examples&lt;/a&gt;&lt;br /&gt;
&lt;a href=&quot;http://www.thegeekstuff.com/2011/04/ps-command-examples&quot;&gt;ps Command Examples&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Now you probably all know a ton more about this little command than you ever did (or cared to) before.  Next week we’ll tackle a softer skills topic - the numbers of women in tech.  Thanks for reading!&lt;/p&gt;

    &lt;p&gt;&lt;a href=&quot;http://localhost:4000/blog/ps-I-love-you/&quot;&gt;ps, I love you&lt;/a&gt; was originally published by Tracy Roesler at &lt;a href=&quot;http://localhost:4000&quot;&gt;TechLady Blog&lt;/a&gt; on January 27, 2017.&lt;/p&gt;
  </content>
</entry>


<entry>
  <title type="html"><![CDATA[Welcome!]]></title>
  <link rel="alternate" type="text/html" href="http://localhost:4000/blog/welcome/" />
  <id>http://localhost:4000/blog/welcome</id>
  <published>2017-01-20T08:00:00-07:00</published>
  <updated>2017-01-20T08:00:00-07:00</updated>
  <author>
    <name>Tracy Roesler</name>
    <uri>http://localhost:4000</uri>
    <email>tracy@techlady.ninja</email>
  </author>
  <content type="html">
    &lt;p&gt;I have come to the realization that I am a woman in tech.&lt;/p&gt;

&lt;iframe src=&quot;//giphy.com/embed/3o7abBP0nMjrdIvaCY&quot; width=&quot;480&quot; height=&quot;270&quot; frameborder=&quot;0&quot; class=&quot;giphy-embed&quot; allowfullscreen=&quot;&quot;&gt;&lt;/iframe&gt;
&lt;p&gt;&lt;a href=&quot;http://giphy.com/gifs/thedailyshow-wow-what-omg-3o7abBP0nMjrdIvaCY&quot;&gt;via GIPHY&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;I fought it for a long time, mostly because I don’t feel I have enough “technical savvy” or “coding skills” to be truly classified as someone representative of an entire category.  But it’s been over 5 years now since I first started working in tech full-time, so I have to concede defeat.&lt;/p&gt;

&lt;p&gt;I’m here.  You’re stuck with me.&lt;/p&gt;

&lt;p&gt;When I first got my bachelor’s degree in Theology, I never imagined I would end up spending most of my day-to-day life in the command line.  It was a series of fortuitous events (&lt;i&gt;I have an uncanny knack for getting offered jobs&lt;/i&gt;) that led me to a job as an automated tester in Java at NASDAQ, SAIC, and then Overstock, which led me to DevOps, Systems Engineering and most recently, learning about the cloud.  Along the way I have met a lot of different and interesting people and while I still believe I was destined to be rich and live a life of luxury, I enjoy where I am now.&lt;/p&gt;

&lt;p&gt;The purpose of this blog will be multi-pronged:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;Have an open forum to discuss technical “coolness” or “suckness” &lt;i&gt;&lt;b&gt;(I’m looking at you Java GC)&lt;/b&gt;&lt;/i&gt;&lt;/li&gt;
  &lt;li&gt;Talk about the day-to-day of being a woman in tech&lt;/li&gt;
  &lt;li&gt;Get feedback thoughts from others perspectives&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;I am hoping to have both women and men contribute with their perspectives from working in the field, and share some knowledge about what they know.&lt;/p&gt;

&lt;figure&gt;&lt;center&gt;
  &lt;a href=&quot;http://imgs.xkcd.com/comics/sandwich.png&quot;&gt;&lt;img src=&quot;http://imgs.xkcd.com/comics/sandwich.png&quot; alt=&quot;image&quot; /&gt;&lt;/a&gt;
  &lt;figcaption&gt;&lt;a href=&quot;http://imgs.xkcd.com/comics/sandwich.png&quot; title=&quot;I've Learned How To Force My Husband to Cook&quot;&gt;I've Learned How To Force My Husband to Cook&lt;/a&gt;.&lt;/figcaption&gt;
&lt;/center&gt;&lt;/figure&gt;

&lt;p&gt;This blog/forum is supposed to be collaborative.  If anybody has a good idea for a post, please reach out to me!  I’d be happy to consider and post it on the site.  My technical knowledge and experiences are limited, so I want to get as many different perspectives on the site as possible.&lt;/p&gt;

&lt;p&gt;One last thing: If you feel I or somebody else has promulgated tech “weirdness” or there is a better way to do something, do not be afraid to speak up.  Everybody has their own way of doing things, and this is as much a place to learn as it is a place for me to learn html.&lt;/p&gt;

&lt;p&gt;I look forward to forming this community together.&lt;/p&gt;

&lt;p&gt;Tracy&lt;/p&gt;

    &lt;p&gt;&lt;a href=&quot;http://localhost:4000/blog/welcome/&quot;&gt;Welcome!&lt;/a&gt; was originally published by Tracy Roesler at &lt;a href=&quot;http://localhost:4000&quot;&gt;TechLady Blog&lt;/a&gt; on January 20, 2017.&lt;/p&gt;
  </content>
</entry>

</feed>
